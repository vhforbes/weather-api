(this["webpackJsonpweather-api"]=this["webpackJsonpweather-api"]||[]).push([[0],{43:function(e,t,a){e.exports=a(70)},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),u=a(9),m=a(40),o=a(16),s=a.n(o),i=a(24),p=a(25),h=a.n(p),d=a(41),E=a(38),f=a(18),y=a(14),x=a(8),g=a(37),b=function(e){var t="96f0fae4d16d8eaf08da72206f8a7458",a=e.city,c=Object(n.useState)({name:null,now:{temperature:null,min:null,max:null},lon:null,lat:null}),l=Object(u.a)(c,2),o=l[0],p=l[1],b=Object(n.useState)([]),v=Object(u.a)(b,2),w=v[0],j=v[1],O=null,k=function(){var e=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("http://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&units=metric&APPID=").concat(t));case 3:n=e.sent,O=n.data,console.log(O),p({name:O.name,now:{temperature:O.main.temp,weather:O.weather[0].main},lon:O.coord.lon,lat:O.coord.lat}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(s.a.mark((function e(){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(o.lat,"&lon=").concat(o.lon,"&exclude=current,minutely,hourly&units=metric&appid=").concat(t));case 3:a=e.sent,n=a.data.daily,r=n.map((function(e){return{day:e.dt,maxTemp:e.temp.max,minTemp:e.temp.min,weather:e.weather[0].main}})),j(Object(m.a)(r)),console.log("forecast updated"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){k()}),[a]),Object(n.useEffect)((function(){S()}),[o]),r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement(y.a,{className:"justify-content-sm-center"},r.a.createElement(x.a,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h3",null,o.name),r.a.createElement("h4",null,parseInt(o.now.temperature),"\xbaC"),r.a.createElement("h4",null,o.now.weather),r.a.createElement("p",null))))),r.a.createElement(f.a,{fluid:"md"},r.a.createElement(y.a,{className:"justify-content-sm-center"},r.a.createElement(x.a,null,r.a.createElement("h4",null,"Forecast"))),r.a.createElement(y.a,{className:"justify-content-sm-center"},r.a.createElement(x.a,null,r.a.createElement(g.a,{responsive:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Day:"),w.map((function(e,t){var a=function(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}}(Object(E.a)(Object(d.a)(e.day)));return r.a.createElement("th",{key:t},a)}))),r.a.createElement("tr",null,r.a.createElement("th",null,"Max:"),w.map((function(e,t){var a=parseInt(e.maxTemp);return r.a.createElement("th",{key:t},a,"\xbaC")}))),r.a.createElement("tr",null,r.a.createElement("th",null,"Min:"),w.map((function(e,t){var a=parseInt(e.minTemp);return r.a.createElement("th",{key:t},a,"\xbaC")}))),r.a.createElement("tr",null,r.a.createElement("th",null,"Weather:"),w.map((function(e,t){var a=e.weather;return r.a.createElement("th",{key:t},a)})))))))))},v=a(26),w=a(39),j=a(20),O=a(42),k=function(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),c=a[0],l=a[1],m=(e.city,e.changeCity);return r.a.createElement("div",null,r.a.createElement(v.a,{expand:"lg",bg:"dark"},r.a.createElement("h3",{className:"mx-auto",style:{color:"white",margin:"0px 0px 5px 5px"}},"Victor's Weather App")),r.a.createElement(v.a,{style:{marginBottom:"15px",paddingBottom:"10px"},expand:"lg",bg:"dark"},r.a.createElement(w.a,{inline:!0,className:"mx-auto",style:{margin:"10px"}},r.a.createElement(j.a,{type:"text",onChange:function(e){return function(e){var t=e.target.value;t.replace(/\s/g,"+"),l(t)}(e)},placeholder:"Search",className:"mr-sm-2"}),r.a.createElement(O.a,{className:"mx-auto",onClick:function(){m(c)},style:{}},"Search"))))};var S=function(){var e=Object(n.useState)("London"),t=Object(u.a)(e,2),a=t[0],c=t[1],l=function(e){c(e)};return r.a.createElement("div",{className:"App"},r.a.createElement(k,{city:a,changeCity:l}),r.a.createElement(b,{city:a,changeCity:l}))};a(69);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css",integrity:"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk",crossOrigin:"anonymous"}),r.a.createElement(S,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.38179b43.chunk.js.map